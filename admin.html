<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Панель админа</title>
  <link rel="stylesheet" href="univer-style.css" />
</head>
<body>
  
  <header class="header">
    <div class="header-top">
      <img src="img/logo.png" alt="Logo" class="header-logo">
      <div class="header-title">Students medical app — Админ</div>
    </div>
    <nav class="header-menu">
      <ul class="menu exit">
        <li><a href="login.html">Выход</a></li>
      </ul>
    </nav>
  </header>

  <div class="main-content">
    <aside class="left-sidebar">
      <h3>Меню</h3>
      <ul>
        <li><a href="#" id="menuHome">Главная админки</a></li>
        <li><a href="#" id="menuAddStudent">Добавить студента</a></li>
        <li><a href="#" id="menuPublishNews">Опубликовать новость</a></li>
        <li><a href="#" id="menuDoctors">Управление врачами</a></li>
        <li><a href="#" id="menuCurators">Управление кураторами</a></li>
      </ul>
    </aside>

    <section class="center-content">
      <h2 id="adminHeading">Панель управления администратора</h2>

      <!-- Статистика -->
      <div class="cards" id="cardsBlock" style="margin-top: 0.5rem;">
        <div class="card">
          <h3 id="activeCount">0</h3>
          <p>Всего аккаунтов</p>
        </div>
      </div>

      <!-- Блок добавления студента -->
      <div id="addStudentFormBlock" style="display: none;">
        <h3>Добавить нового студента</h3>
        
        <input type="text" id="fioInput" style="margin-top: 0.5rem;" placeholder="ФИО" />
        <input type="text" id="loginInput" placeholder="Логин" />
        <input type="text" id="passwordInput" placeholder="Пароль" />
        <div id="studentPasswordError" class="error-message"></div>
        <input type="email" id="emailInput" placeholder="Почта" />

        <div id="PasswordError" class="error-message" style="margin-top: 0.5rem;"></div>
        
        <br />
        <button id="addStudentBtn" type="button" class="btn-submit" style="margin-top: 0.5rem;">Добавить</button>
      </div>

      <!-- Таблица студентов -->
      <div class="table-container" id="studentsTableContainer">
        <table>
          <thead>
            <tr>
              <th>ID</th>
              <th>ФИО</th>
              <th>Логин</th>
              <th>Почта</th>
              <th>Действия</th>
            </tr>
          </thead>
          <tbody id="studentTableBody"></tbody>
        </table>
      </div>

      <!-- Форма добавления/редактирования новости -->
      <div id="newsBlock" style="display: none; margin-top: 1rem;">
        <div class="add-news-form" style="margin-bottom: 2rem; padding: 1rem; background-color: var(--aside-bg); border: 1px solid var(--border-color); border-radius: 6px;">
          <h3>Добавить новость</h3>

          <!-- Скрытое поле для ID новости -->
          <input type="hidden" id="newsId">

          <div class="form-group">
            <label for="newsTitle">Заголовок новости</label>
            <input type="text" id="newsTitle" placeholder="Введите заголовок" />
          </div>

          <div class="form-group">
            <label for="newsContent">Содержание новости</label>
            <textarea id="newsContent" rows="4" placeholder="Введите содержание новости"></textarea>
          </div>

          <div class="form-group">
            <label for="newsImage">Прикрепить изображение</label>
            <input type="file" id="newsImage" accept="image/*" />
          </div>
          <button id="submitNewsBtn" type="button" class="btn-submit">Сохранить</button>
        </div>

        <!-- Здесь будет список новостей -->
        <div id="newsList"></div>
      </div>

      <!-- Добавить врача -->
      <div id="addDoctorBlock" style="display: none; margin-top: 1rem;">
        <h2>Врачи</h2>
        <div class="add-doctor-form" style="margin-bottom: 1rem;">
          <h3>Добавить врача</h3>
          <input type="text" id="doctorName" placeholder="ФИО врача" />
          <input type="text" id="doctorLogin" placeholder="Логин" />
          <input type="password" id="doctorPassword" placeholder="Пароль" />
          <div id="doctorPasswordError" class="error-message"></div>
          <input type="email" id="doctorEmail" placeholder="Email" />
          <button id="addDoctorBtn" type="button" class="btn-submit">Добавить</button>
        </div>
        <table>
          <thead>
            <tr>
              <th>ID</th>
              <th>ФИО</th>
              <th>Логин</th>
              <th>Email</th>
              <th>Действия</th> 
            </tr>
          </thead>          
          <tbody id="doctorsTableBody"></tbody>
        </table>
      </div>

      <!-- Добавление куратора -->
      <div id="curatorsBlock" style="display: none; margin-top: 1rem;">
        <h2>Кураторы</h2>
        <div class="add-curator-form" style="margin-bottom: 1rem;">
          <h3>Добавить куратора</h3>
          <input type="text" id="curatorName" placeholder="ФИО куратора" />
          <input type="text" id="curatorLogin" placeholder="Логин" />
          <input type="email" id="curatorEmail" placeholder="Email" />
          <input type="password" id="curatorPassword" placeholder="Пароль" />
          <div id="curatorPasswordError" class="error-message"></div>
          <input type="text" id="curatorGroup" placeholder="Группа (например, ОПИ-21-7)" />        
          <button id="addCuratorBtn" type="button" class="btn-submit">Добавить</button>
        </div>
        <table>
          <thead><tr><th>ID</th><th>ФИО</th><th>Логин</th><th>Email</th><th>Группа</th><th>Действия</th> </tr></thead>
          <tbody id="curatorsTableBody"></tbody>
        </table>
      </div>
    </section>
  </div>

  <footer class="footer">
    © 2025 Students medical app
  </footer>

  <!-- Модальное окно редактирования -->
  <div id="editModal" class="modal" style="display: none;">
    <div class="modal-content">
      <span id="closeModal" class="close">&times;</span>
      <h3>Изменить данные</h3>
      <div class="form-group">
        <label>Логин:</label>
        <input type="text" id="editLogin" />
      </div>
      <div class="form-group">
        <label>Новый пароль:</label>
        <input type="text" id="editPassword" />
        <div id="editStudentPasswordError" class="error-message"></div>
      </div>
      <div class="form-group">
        <label>Email:</label>
        <input type="email" id="editEmail" />
      </div>
      <button id="saveEditBtn" type="button" class="btn-submit">Сохранить</button>
    </div>
  </div>

  <!-- Модальное окно редактирования куратора -->
<div id="editCuratorModal" class="modal" style="display: none;">
  <div class="modal-content">
    <span onclick="closeEditCuratorModal()" class="close">&times;</span>
    <h3>Изменить данные куратора</h3>
    <div class="form-group">
      <label>Логин:</label>
      <input type="text" id="editCuratorLogin" />
    </div>
    <div class="form-group">
      <label>Новый пароль:</label>
      <input type="text" id="editCuratorPassword" />
      <div id="editCuratorPasswordError" class="error-message"></div>
    </div>
    <div class="form-group">
      <label>Email:</label>
      <input type="email" id="editCuratorEmail" />
    </div>
    <div class="form-group">
      <label>Группа:</label>
      <input type="text" id="editCuratorGroup" />
    </div>
    <button onclick="saveCuratorChanges()" type="button" class="btn-submit">Сохранить</button>
  </div>
</div>

<!-- Модальное окно редактирования врача -->
<div id="editDoctorModal" class="modal" style="display: none;">
  <div class="modal-content">
    <span onclick="closeEditDoctorModal()" class="close">&times;</span>
    <h3>Изменить данные врача</h3>
    <div class="form-group">
      <label>Логин:</label>
      <input type="text" id="editDoctorLogin" />
    </div>
    <div class="form-group">
      <label>Новый пароль:</label>
      <input type="text" id="editDoctorPassword" />
      <div id="editDoctorPasswordError" class="error-message"></div>
    </div>
    <div class="form-group">
      <label>Email:</label>
      <input type="email" id="editDoctorEmail" />
    </div>
    <button onclick="saveDoctorChanges()" type="button" class="btn-submit">Сохранить</button>
  </div>
</div>

<script src="admin_final.js"></script>
</body>
</html>
